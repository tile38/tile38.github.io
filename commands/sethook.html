<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>SETHOOK · Tile38</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Syntax"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="SETHOOK · Tile38"/><meta property="og:type" content="website"/><meta property="og:url" content="https://tile38.com/"/><meta property="og:description" content="## Syntax"/><meta property="og:image" content="https://tile38.com/img/ogimage3.png"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon-32x32.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><script type="text/javascript" src="/js/videoAutoPlay.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg" alt="Tile38"/><h2 class="headerTitleWithLogo">Tile38</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/commands" target="_self" class="">Commands</a></li><li class=""><a href="/topics/installation" target="_self" class="">Documentation</a></li><li class=""><a href="https://github.com/tidwall/tile38" target="_self" class="">GitHub</a></li><li class=""><a href="/topics/installation" target="_self" class="tile38NavButton">Get Tile38</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Geofences</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/topics/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/topics/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/topics/object-types">Object Types</a></li><li class="navListItem"><a class="navItem" href="/topics/command-line-interface">Command Line Interface</a></li><li class="navListItem"><a class="navItem" href="/topics/network-protocols">Network Protocols</a></li><li class="navListItem"><a class="navItem" href="/topics/client-libraries">Client Libraries</a></li><li class="navListItem"><a class="navItem" href="/topics/replication">Replication</a></li><li class="navListItem"><a class="navItem" href="/topics/filter-expressions">Filter Expressions</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/commands/">Commands</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Geofences</h3><ul class=""><li class="navListItem"><a class="navItem" href="/topics/geofencing">Geofencing</a></li><li class="navListItem"><a class="navItem" href="/topics/roaming-geofences">Roaming Geofences</a></li><li class="navListItem hide"><a class="navItem" href="/commands/aof">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/aofmd5">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/aofshrink">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/auth">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/bounds">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/chans">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/config-get">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/config-rewrite">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/config-set">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/del">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/delchan">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/delhook">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/drop">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/eval">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/evalna">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/evalnasha">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/evalro">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/evalrosha">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/evalsha">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/expire">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/flushdb">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/follow">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/fset">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/gc">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/get">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/hooks">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/intersects">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/jdel">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/jget">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/jset">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/keys">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/nearby">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/output">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/pdel">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/pdelchan">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/pdelhook">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/persist">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/ping">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/psubscribe">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/quit">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/readonly">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/rename">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/renamenx">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/scan">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/script-exists">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/script-flush">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/script-load">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/search">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/server">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/set">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/setchan">__no_label</a></li><li class="navListItem hide navListItemActive"><a class="navItem" href="/commands/sethook">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/stats">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/subscribe">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/test">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/timeout">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/ttl">__no_label</a></li><li class="navListItem hide"><a class="navItem" href="/commands/within">__no_label</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');

              /*
                MELBANIA: hide tocToggler if there are no onPageNav toc-headings
              */
              if (!headings) {
                let tocToggler = document.querySelector("#tocToggler");
                tocToggler.classList.add('hide');
              }
              /* END melbania */

              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);

                  /*
                    MELBANIA: hide tocToggler if navToggler is active, unhide 
                    otherwise; only engage hide/unhide toggling if there are toc-headings
                  */
                  if (target.classList.value.includes("docsNavContainer")) {
                    let tocHeadings = document.querySelector('.toc-headings');
                    let tocToggler = document.querySelector('#tocToggler');
                    
                    if (tocHeadings) {
                      tocToggler.classList.toggle('hide');
                    }
                  }
                  /* END melbania */
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/tile38/tile38.github.io/edit/master/docs/commands/sethook.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">SETHOOK</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="syntax"></a><a href="#syntax" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax</h2>
<p><strong>SETHOOK name endpoint [META name value ...] [EX seconds] NEARBY|WITHIN|INTERSECTS key [WHERE field min max ...] [WHEREIN field count value [value...] ...] [WHEREEVAL script numargs arg [arg...] ...] FENCE [DETECT what] [COMMANDS which] param [param...]</strong></p>
<h2><a class="anchor" aria-hidden="true" id="description"></a><a href="#description" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h2>
<p>Creates a webhook which points to a <a href="/topics/geofencing">geofenced</a> search. If a hook is already associated to that name, it'll be overwritten.</p>
<h2><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h2>
<p>Set a simple hook.</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse http://10.0.20.78/endpoint <span class="hljs-command">NEARBY</span> fleet <span class="hljs-command">FENCE</span> <span class="hljs-command">POINT</span> <span class="hljs-number">33.5123 </span><span class="hljs-neg-number">-112.2693</span> <span class="hljs-number">500
</span></code></pre>
<p>In this example we created a webhook named <code>warehouse</code> that watches for changes to objects in the <code>fleet</code> collection. When a change occurs the endpoint <code>'http://10.0.20.78/endpoint'</code> is notified with a detailed message. The message contains a member named <code>'detect'</code> which has one of the following values:</p>
<ul>
<li><strong><code>inside</code></strong> is when an object is inside the specified area.</li>
<li><strong><code>outside</code></strong> is when an object is outside the specified area.</li>
<li><strong><code>enter</code></strong> is when an object that <strong>was not</strong> previously in the fence has entered the area.</li>
<li><strong><code>exit</code></strong> is when an object that <strong>was</strong> previously in the fence has exited the area.</li>
<li><strong><code>cross</code></strong> is when an object that <strong>was not</strong> previously in the fence has entered <strong>and</strong> exited the area.</li>
</ul>
<p><em>For more information on the format of this message please see the topic on <a href="/topics/geofencing">Geofencing</a>.</em></p>
<p><a href="/commands/nearby">NEARBY</a>, <a href="/commands/intersects">INTERSECTS</a>, and <a href="/commands/within">WITHIN</a> are supported search types. The <code>FENCE</code> keyword must be present.</p>
<h2><a class="anchor" aria-hidden="true" id="endpoints"></a><a href="#endpoints" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Endpoints</h2>
<p>Tile38 currently supports endpoints with the following services:</p>
<ul>
<li><a href="#http--https">http</a></li>
<li><a href="#http--https">https</a></li>
<li><a href="#grpc">gRPC</a></li>
<li><a href="#redis">Redis</a></li>
<li><a href="#disque">Disque</a></li>
<li><a href="#kafka">Kafka</a></li>
<li><a href="#amqp">AMQP</a></li>
<li><a href="#mqtt">MQTT</a></li>
<li><a href="#nats">NATS</a></li>
<li><a href="#sqs">Amazon SQS</a></li>
<li><a href="#azure-event-hub">Azure Event Hub</a></li>
<li><a href="#google-pubsub">Google Pubsub</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="http--https"></a><a href="#http--https" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTP / HTTPS</h3>
<p>When using the <code>http://</code> and <code>https://</code> url scheme an HTTP POST will be sent to the specified url with the <code>content-type</code> of <code>application/json</code> and the request body containing the message.</p>
<p>Tile38 expects that the endpoint will respond with the status code of 200. As long as the status is 200 the message will be considered sent.</p>
<h3><a class="anchor" aria-hidden="true" id="grpc"></a><a href="#grpc" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GRPC</h3>
<p>The <code>grpc://</code> url scheme provides support for sending messages over <a href="http://www.grpc.io/">GRPC</a>.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse grpc://10.0.20.78:6798/ ...
</code></pre>
<p>All webhook messages will be sent to the GPRC server at <code>10.0.20.78:6798</code>.</p>
<p>The proto file can be found in the <a href="https://github.com/tidwall/tile38/tree/master/internal/hservice">/hservice</a> directory.</p>
<h3><a class="anchor" aria-hidden="true" id="redis"></a><a href="#redis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Redis</h3>
<p>The <code>redis://</code> url scheme provides support for sending messages to a <a href="https://redis.io">Redis</a> server.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse redis://10.0.20.78:6379/warehouse ...
</code></pre>
<p>All webhook messages will be sent to the Redis server at <code>10.0.20.78:6379</code> in a <a href="https://redis.io/commands#pubsub">PUBSUB</a> queue <code>warehouse</code> as a JSON messages.</p>
<h3><a class="anchor" aria-hidden="true" id="disque"></a><a href="#disque" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Disque</h3>
<p>The <code>disque://</code> url scheme provides support for sending messages to a <a href="https://github.com/antirez/disque">Disque</a> server.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse disque://10.0.20.78:7711/warehouse?replicate=<span class="hljs-number">2 </span>...
</code></pre>
<p>All webhook messages will be sent to the Disque server at <code>10.0.20.78:7711</code>. The replicate param is optional and when this value is greater than one, Tile38 will require that the Disque server to make copies of the message on N servers, where N is the value of <code>replicate</code>. Please review the <a href="https://github.com/antirez/disque#main-api">Disque API</a> for information on the replicate option.</p>
<h3><a class="anchor" aria-hidden="true" id="kafka"></a><a href="#kafka" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kafka</h3>
<p>The <code>kafka://</code> url scheme provides support for sending messages to a <a href="https://kafka.apache.org/">Kafka</a> broker.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse kafka://10.0.20.78:9092/warehouse ...
</code></pre>
<p>All webhook messages will be sent to the Kafka server at <code>10.0.20.78:9092</code> to a <a href="https://kafka.apache.org/documentation/#intro_topics">topic</a> called warehouse. The port number is optional and will default to 9092.</p>
<h4><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h4>
<ul>
<li><code>auth</code> - <code>sasl</code>, <code>tls</code>, <code>none</code></li>
<li><code>ssl</code> - <code>true</code></li>
<li><code>sha256</code> - <code>true</code></li>
<li><code>sha512</code> - <code>true</code></li>
<li><code>cacert</code> - <code>path/to/ca.crt</code></li>
<li><code>cert</code> - <code>path/to/user.crt</code></li>
<li><code>key</code> - <code>path/to/user.key</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="authentication"></a><a href="#authentication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authentication</h4>
<p>Tile38 currently supports SASL/PLAIN, SASL/SCRAM and TLS authentication with
your Apache Kafka broker.</p>
<h5><a class="anchor" aria-hidden="true" id="sasl"></a><a href="#sasl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SASL</h5>
<p>Add <code>KAFKA_USERNAME</code> and <code>KAFKA_PASSWORD</code> to your environment.
If <code>&amp;ssl=true</code> is set, then by default Tile38 will try to verify the server certificate with your host CA set.
You can present a custom certificate with <code>&amp;cacert=</code> but do not forget to mount it
into your Tile38 leader volume.</p>
<p>Then you can set the hook as follows:</p>
<pre><code class="hljs"><span class="hljs-comment"># SASL/PLAIN without SSL</span>
SETHOOK warehouse kafka:<span class="hljs-string">//10.0.20.78</span><span class="hljs-function">:9092</span>/warehouse?auth=sasl <span class="hljs-string">...</span>
</code></pre>
<pre><code class="hljs"><span class="hljs-comment"># SASL/PLAIN with SSL</span>
SETHOOK warehouse kafka:<span class="hljs-string">//10.0.20.78</span><span class="hljs-function">:9092</span>/warehouse?auth=sasl&amp;ssl=<span class="hljs-literal">true</span> <span class="hljs-string">...</span>
</code></pre>
<pre><code class="hljs"><span class="hljs-comment"># SASL/SCRAM with SSL</span>
SETHOOK warehouse kafka:<span class="hljs-string">//10.0.20.78</span><span class="hljs-function">:9092</span>/warehouse?auth=sasl&amp;sha512=<span class="hljs-literal">true</span>&amp;ssl=<span class="hljs-literal">true</span> <span class="hljs-string">...</span>

<span class="hljs-comment"># or sha256 respectively</span>
SETHOOK warehouse kafka:<span class="hljs-string">//10.0.20.78</span><span class="hljs-function">:9092</span>/warehouse?auth=sasl&amp;sha512=<span class="hljs-literal">true</span>&amp;ssl=<span class="hljs-literal">true</span> <span class="hljs-string">...</span>
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="tls"></a><a href="#tls" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TLS</h5>
<p>By default Tile38 will try to verify the server certificate with your host CA set.
If you have a custom server certificate, you can present it with <code>&amp;cacert=</code>.
Make sure that the root certificate of your broker as well as the user certificate
and the key are mounted into the Tile38 leader instance.
TLS does not require you to set <code>&amp;ssl=true</code> because SSL is implied.</p>
<p>Then setup as follows:</p>
<pre><code class="hljs">SETHOOK warehouse kafka://10.<span class="hljs-number">0.20</span><span class="hljs-number">.78</span>:<span class="hljs-number">9092</span>/warehouse?auth=tls&amp;cacert=<span class="hljs-keyword">path</span>/<span class="hljs-keyword">to</span>/ca.crt&amp;cert=/<span class="hljs-keyword">path</span>/<span class="hljs-keyword">to</span>/<span class="hljs-keyword">user</span>.crt&amp;<span class="hljs-keyword">key</span>=/<span class="hljs-keyword">path</span>/<span class="hljs-keyword">to</span>/<span class="hljs-keyword">user</span>.<span class="hljs-keyword">key</span> ...
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="amqp"></a><a href="#amqp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AMQP</h3>
<p>The <code>amqp://</code> url scheme provides support for sending messages to a <a href="https://www.rabbitmq.com/">RabbitMQ</a> broker via the Advanced Message Queuing Protocol (AMQP) version 0.9.1.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse amqp://guest:guest@10.0.20.78:5672/warehouse?route=tile ...
</code></pre>
<p>All webhook messages will be sent to the RabbitMQ broker at <code>10.0.20.78:5672</code> to the queue called warehouse. Route is an optional parameter and will default to tile38.</p>
<h4><a class="anchor" aria-hidden="true" id="options-1"></a><a href="#options-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h4>
<p>The following optional parameters are available for this hook, the listed value is the default value:</p>
<ul>
<li><code>type</code> - 'direct'</li>
<li><code>durable</code> - true</li>
<li><code>immediate</code> - false</li>
<li><code>mandatory</code> - false</li>
<li><code>auto_delete</code> - false</li>
<li><code>internal</code> - false</li>
<li><code>no_wait</code> - false</li>
<li><code>delivery_mode</code> - 1</li>
<li><code>route</code> - tile38</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="mqtt"></a><a href="#mqtt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MQTT</h3>
<p>The <code>mqtt://</code> url scheme provides support for sending messages to a MQTT broker</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse mqtt://10.0.1.1:8443/mytopic?qos=1&amp;retained=<span class="hljs-number">0 </span>...
</code></pre>
<p>All webhook messages will be sent to the MQTT broker at <code>10.0.1.1:8443</code> to the topic called mytopic.</p>
<h4><a class="anchor" aria-hidden="true" id="options-2"></a><a href="#options-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h4>
<p>The following optional parameters are available for this hook, the listed value is the default value:</p>
<ul>
<li><code>qos</code> - 0</li>
<li><code>retained</code> - false</li>
<li><code>cacert</code> - empty string</li>
<li><code>cert</code> - empty string</li>
<li><code>key</code> - empty string</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="sqs"></a><a href="#sqs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SQS</h3>
<p>Sending to <a href="https://aws.amazon.com/sqs/">SQS</a> requires the URL endpoint that AWS provides.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse https://sqs.us-east<span class="hljs-neg-number">-1</span>.amazonaws.com/349840735605/myqueue ...
</code></pre>
<p>All webhook messages will be sent to the SQS queue named <code>myqueue</code> in the region <code>us-east-1</code> with the queue id <code>349840735605</code>.</p>
<p>SQS credentials will be automatically chosen from one of the following:</p>
<ul>
<li>~/.aws/credentials</li>
<li>Environment variables</li>
<li>EC2 Role</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="options-3"></a><a href="#options-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h4>
<p>The following optional parameters are available for this hook, the listed value is the default value:</p>
<ul>
<li><code>credpath</code> - empty string</li>
<li><code>credprofile</code> - empty string</li>
<li><code>createqueue</code> - false</li>
</ul>
<p>The <code>createqueue</code> param will attempt to create the queue if does not exist.</p>
<h3><a class="anchor" aria-hidden="true" id="nats"></a><a href="#nats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NATS</h3>
<p>The <code>nats://</code> url scheme provides support for sending messages to a <a href="https://www.nats.io/">NATS</a> topic</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse nats://127.0.0.1:42222/mytopic?user=admin?pass=<span class="hljs-number">123 </span>...
</code></pre>
<p>All webhook messages will be sent to the NATS server at <code>127.0.0.1:4222</code> to the topic named <code>mytopic</code> and the username <code>admin</code> and password <code>123</code></p>
<h4><a class="anchor" aria-hidden="true" id="options-4"></a><a href="#options-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h4>
<p>The following optional parameters are available for this hook, the listed value is the default value:</p>
<ul>
<li><code>user</code> - empty string</li>
<li><code>pass</code> - empty string</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="azure-event-hub"></a><a href="#azure-event-hub" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Azure Event Hub</h3>
<p>Messages can be sent to an <a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-about">Azure Event Hub</a> by specifying the Event Hub connection string.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse Endpoint=sb://event-hub-namespace.windows.net/;SharedAccessKeyName=sharedAccessKeyName;SharedAccessKey=***Secret***;EntityPath=event-hub-name ...
</code></pre>
<p>All webhook messages will be sent to the Event Hub in namespace <code>event-hub-namespace</code> to the Event Hub <code>event-hub-name</code>.</p>
<p>The connection string can be found from the Azure Portal blade for the Event Hub in question. Validation will fail if any of the connection string elements (Endpoint, SharedAccessKeyName, SharedAccessKey or EntityPath) are missing or not in the order shown in the example.</p>
<h3><a class="anchor" aria-hidden="true" id="google-pubsub"></a><a href="#google-pubsub" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Google Pubsub</h3>
<p>Messages can be sent to a <a href="https://cloud.google.com/pubsub/">Google Pubsub</a> endpoint.</p>
<p>For example:</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse pubsub://my-gcp-project:my-topic?credpath=/path/to/creds/key.json <span class="hljs-command">NEARBY</span> fleet <span class="hljs-command">FENCE</span> <span class="hljs-command">POINT</span> <span class="hljs-number">33.5123 </span><span class="hljs-neg-number">-112.2693</span> <span class="hljs-number">500
</span></code></pre>
<h2><a class="anchor" aria-hidden="true" id="endpoint-failover"></a><a href="#endpoint-failover" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Endpoint Failover</h2>
<p>It's possible to specify multiple endpoints for a webhook by separating each with a comma. Make sure that there are no spaces between the comma and the urls.</p>
<pre><code class="hljs css language-tile38-cli"><span class="hljs-command">SETHOOK</span> warehouse http://10.0.20.78/ep1,http://10.0.20.78/ep2 ...
</code></pre>
<p>Tile38 will try to send a message to the first endpoint. If the send is a failure then the second endpoint is tried, and so on.</p>
<h2><a class="anchor" aria-hidden="true" id="related-commands"></a><a href="#related-commands" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related Commands</h2>
<p><a href="/commands/delhook">DELHOOK</a><br>
<a href="/commands/hooks">HOOKS</a><br>
<a href="/commands/pdelhook">PDELHOOK</a><br>
<strong><a href="/commands/sethook">SETHOOK</a></strong><br></p>
</span></div></article></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#syntax">Syntax</a></li><li><a href="#description">Description</a></li><li><a href="#examples">Examples</a></li><li><a href="#endpoints">Endpoints</a><ul class="toc-headings"><li><a href="#http--https">HTTP / HTTPS</a></li><li><a href="#grpc">GRPC</a></li><li><a href="#redis">Redis</a></li><li><a href="#disque">Disque</a></li><li><a href="#kafka">Kafka</a></li><li><a href="#amqp">AMQP</a></li><li><a href="#mqtt">MQTT</a></li><li><a href="#sqs">SQS</a></li><li><a href="#nats">NATS</a></li><li><a href="#azure-event-hub">Azure Event Hub</a></li><li><a href="#google-pubsub">Google Pubsub</a></li></ul></li><li><a href="#endpoint-failover">Endpoint Failover</a></li><li><a href="#related-commands">Related Commands</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div class="legal"><section class="copyright">Copyright © 2025 Tile38, LLC<a href="/license">License</a></section></div><div class="docs"><h5>Docs</h5><a href="/topics/installation">Getting Started</a><a href="/topics/geofencing">Geofences</a><a href="/commands/">Commands</a></div><div class="community"><h5>Community</h5><a href="https://stackoverflow.com/search?q=tile38" rel="noreferrer noopener">Stack Overflow</a><a href="https://tile38.com/slack/">Slack</a><a href="https://twitter.com/tile38db" rel="noreferrer noopener">Twitter</a></div><div class="more"><h5>More</h5><a href="https://github.com/tidwall/tile38">GitHub</a><a class="github-button" href="https://github.com/tidwall/tile38" data-icon="octicon-star" data-count-href="/tidwall/tile38/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div></body></html>